# Отчет

Я написал скрипт для считывания и анализа данных с датчиков насоса. Я честно пытался понять, почему именно 19.12.2013 с 7 до 8 часов произошел сбой оборудования, хотя по параметрам Р ВСАС ПТН и Р НАПОР ПТН насос НЕ находился в ремонте(значения были больше 20). После этого я начал строить большее количество самых разных графиков что бы понять, что вообще происходило с этим насосом 19.12.2013.(Черными вертикальными линиями отмечено время выхода из строя оборудования).
![alt text](https://github.com/random-alex/pump/blob/master/pics/19.12_all_pars.jpeg?raw=true)

Для того, что бы оценить картину целиком я построил картинки картинки с данными за целый месяц (time в днях).
![alt text](https://github.com/random-alex/pump/blob/master/pics/all_param.png?raw=true)

Я удивился, увидев такие четкие паттерны в данных, особенно в декабре. Из этого прямо таки напрашивалась гипотеза о том, что вторым случаем выхода из строя оборудования будет день где то в начале декабря, со 2 по 5. Я посмотрел эти дни и сравнил с 19. Оказалось, что визуально наиболее похожее поведение демонстрирует 3 декабря:
![alt text](https://github.com/random-alex/pump/blob/master/pics/3-19_comp.png?raw=true)

На заключительном этапе работы я понял, в чем была моя ошибка с самого начала. Мне нужно было больше общаться с Антоном и узнать больше деталей об этом кейсе, тогда выводы и подходы к решению возможно были бы правильнее. 
## О возможных способах детектирования аномального режима работы.
Для этого нужно сперва понять почему оно ломается, то есть прочитать тех описание насоса. Потом уже можно как то интепретировать показания датчиков. Если говорить о математической составляющей, то скорее всего нужно использовать алгоритмы поиска паттернов заданного вида или можно применить "костыльное" решение - взять временное окно в один час и прогнать его по всем данным, вычисляя средний квадрат ошибки между разницей текущего сигнала с датчика с сигналом с того же датчика но во время аномальной работы. Сам период уже задетектированной аномальной работы из данных предварительно удалить.
### P.s.
К сожалению, я не успел переписать этот код для python'а .
